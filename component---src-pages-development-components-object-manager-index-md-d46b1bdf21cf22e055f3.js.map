{"version":3,"file":"component---src-pages-development-components-object-manager-index-md-d46b1bdf21cf22e055f3.js","mappings":"oRAQaA,EAAe,CAAC,EAOvBC,GALgBC,EAKY,cALJ,SAA6BC,GAEzD,OADAC,QAAQC,KAAK,aAAeH,EAAO,4EAC5B,eAASC,EACjB,GAHqBD,MAMtB,MAAMI,EAAc,CAClBN,gBAEIO,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAHgC,WACjCC,GAEC,EADEP,GACF,YACD,OAAO,SAACI,GAAD,UAAeD,EAAiBH,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,kBACH,mBACL,kBAAK,sLACL,kBAAK,yEAAuE,cAAGC,WAAW,IACtF,KAAQ,2GACP,uBAAYA,WAAW,KAAM,2BAA2C,+CAC7E,SAACX,EAAD,CAAaY,QAAQ,UAAUC,MAAM,OAAOH,QAAQ,iBACpD,kBAAK,oDAAkD,uBAAYC,WAAW,KAAM,iBAA8B,0EAChH,cAAGA,WAAW,IACZ,KAAQ,gBACL,eAAmB,MAC1B,eACE,GAAM,oBACH,qBACL,kBAAK,2DACL,oBACE,eAAIA,WAAW,MAAO,6CACtB,eAAIA,WAAW,MAAO,uGACtB,eAAIA,WAAW,MAAO,yGACtB,eAAIA,WAAW,MAAO,kEAExB,eACE,GAAM,iBACH,kBACL,kBAAK,QAAM,cAAGA,WAAW,IACrB,KAAQ,6CACP,uBAAYA,WAAW,KAAM,WAA2B,mEAAiE,cAAGA,WAAW,IACxI,KAAQ,8BACL,wBAA4B,MACnC,kBAAK,6QAEL,eACE,GAAM,eACH,gBACL,kBAAK,mDAAiD,uBAAYA,WAAW,KAAM,iBAA8B,sGACpF,uBAAYA,WAAW,KAAM,iBAA8B,yCACxF,kBAAK,qHACW,uBAAYA,WAAW,KAAM,UAAuB,+DAA6D,cAAGA,WAAW,IAC3I,KAAQ,mBACL,WAAe,qBACtB,kBAAK,0GAAwG,cAAGA,WAAW,IACvH,KAAQ,mBACL,WAAe,QAAM,cAAGA,WAAW,IACtC,KAAQ,iBACL,SAAa,mGAEpB,SAACX,EAAD,CAAaY,QAAQ,UAAUC,MAAM,OAAOH,QAAQ,iBACpD,kBAAK,gHAA8G,uBAAYC,WAAW,KAAM,iBAA8B,oIAEnI,uBAAYA,WAAW,KAAM,iBAA8B,eACtG,eACE,GAAM,cACH,eACL,kBAAK,kCAAgC,uBAAYA,WAAW,KAAM,iBAA8B,uCAChG,oBACE,eAAIA,WAAW,MAAO,gEAA8D,uBAAYA,WAAW,MAAO,cAA2B,MAAI,uBAAYA,WAAW,MAAO,aAA0B,UACvM,eAAIA,WAAW,OACb,eAAIA,WAAW,MAAO,mCAAiC,uBAAYA,WAAW,MAAO,cAA2B,mBAAiB,cAAGA,WAAW,KAC3I,KAAQ,mHACP,uBAAYA,WAAW,KAAM,yDAAyE,cAG/G,eAAIA,WAAW,MAAO,oBAAkB,uBAAYA,WAAW,MAAO,iBAA8B,2DACpG,eAAIA,WAAW,MAAO,8FACtB,eAAIA,WAAW,MAAO,+GAExB,eACE,GAAM,gCACH,iCACL,kBAAK,4MAEL,kBAAK,qCAAmC,uBAAYA,WAAW,KAAM,iBAA8B,0DAAwD,uBAAYA,WAAW,KAAM,sDAAmE,MAC3P,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,oPASV,CAEDH,EAAWM,gBAAiB,C","sources":["webpack://commerce-php/./src/pages/development/components/object-manager/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"object-manager\"\n    }}>{`Object manager`}</h1>\n    <p>{`Large applications, such as the Adobe Commerce and Magento Open Source applications, use an object manager to avoid boilerplate code when composing objects during instantiation.`}</p>\n    <p>{`In Adobe Commerce and Magento Open Source, the implementation of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/ObjectManagerInterface.php\"\n      }}><inlineCode parentName=\"a\">{`ObjectManagerInterface`}</inlineCode></a>{` performs the duties of an object manager.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`The application prohibits the direct use of the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` in your code because it hides the real dependencies of a class.\nSee `}<a parentName=\"p\" {...{\n        \"href\": \"#usage-rules\"\n      }}>{`usage rules`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"responsibilities\"\n    }}>{`Responsibilities`}</h2>\n    <p>{`The object manager has the following responsibilities:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Object creation in factories and proxies`}</li>\n      <li parentName=\"ul\">{`Implementing the singleton pattern by returning the same shared instance of a class when requested`}</li>\n      <li parentName=\"ul\">{`Dependency management by instantiating the preferred class when a constructor requests its interface`}</li>\n      <li parentName=\"ul\">{`Automatically instantiating parameters in class constructors`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"configuration\"\n    }}>{`Configuration`}</h2>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"../../build/dependency-injection-file.md\"\n      }}><inlineCode parentName=\"a\">{`di.xml`}</inlineCode></a>{` file configures the object manager and tells it how to handle `}<a parentName=\"p\" {...{\n        \"href\": \"../dependency-injection.md\"\n      }}>{`dependency injection`}</a>{`.`}</p>\n    <p>{`This file specifies the preferred implementation class the object manager generates for the interface declared in a class constructor.\nThe file also specifies whether the object manager should create an object for every request or treat the object as a singleton.`}</p>\n    <h2 {...{\n      \"id\": \"usage-rules\"\n    }}>{`Usage rules`}</h2>\n    <p>{`Adobe Commerce and Magento Open Source use the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` to generate and inject the classes declared in your constructor.\nClasses should not ask for the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` itself as a constructor dependency.`}</p>\n    <p>{`You do not call the object manager directly because the framework handles this automatically.\nDirect use of the `}<inlineCode parentName=\"p\">{`create`}</inlineCode>{` function prevents type validation and type hinting that a `}<a parentName=\"p\" {...{\n        \"href\": \"../factories.md\"\n      }}>{`factory`}</a>{` class provides.`}</p>\n    <p>{`Object creation is also a separate responsibility that should be moved to a dedicated class such as a `}<a parentName=\"p\" {...{\n        \"href\": \"../factories.md\"\n      }}>{`factory`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"../proxies.md\"\n      }}>{`proxy`}</a>{`.\nIn most cases, the framework generates these classes automatically during code compilation.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`You may notice in the Adobe Commerce and Magento Open Source codebase that some core classes still call the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` directly.\nThis code needs porting or exist for backward compatibility purposes.\nThey are not tacit endorsements of using the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` directly.`}</p>\n    <h3 {...{\n      \"id\": \"exceptions\"\n    }}>{`Exceptions`}</h3>\n    <p>{`You can depend on and use the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` class in the following scenarios:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`You can use the object manager in static magic methods like `}<inlineCode parentName=\"li\">{`__wakeup()`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`__sleep()`}</inlineCode>{`, etc.`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`An example can be found in the `}<inlineCode parentName=\"li\">{`__wakeup()`}</inlineCode>{` method in the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Eav/Model/Entity/Attribute/AbstractAttribute.php\"\n            }}><inlineCode parentName=\"a\">{`Magento/Eav/Model/Entity/Attribute/AbstractAttribute`}</inlineCode></a>{` class.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`You can use the `}<inlineCode parentName=\"li\">{`ObjectManager`}</inlineCode>{` to maintain backward compatibility for a constructor.`}</li>\n      <li parentName=\"ul\">{`In a global scope, like in fixtures of integration tests, you can use the object manager.`}</li>\n      <li parentName=\"ul\">{`The object manager can be a dependency in classes used for creating objects such as factories or proxies.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"programmatic-product-updates\"\n    }}>{`Programmatic product updates`}</h3>\n    <p>{`If the Access Control List (ACL) rules contain incorrect settings, scripts that update products will fail validation.\nThis results in products assigned to the wrong store view with the wrong status.`}</p>\n    <p>{`To skip ACL validations, use the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` to set a dynamic dependency injection preference for `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\Authorization\\\\PolicyInterface`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`$objectManager = $bootstrap->getObjectManager();\n$objectManager->configure([\n    'preferences' => [\n        'Magento\\\\Framework\\\\Authorization\\\\PolicyInterface' => 'Magento\\\\Framework\\\\Authorization\\\\Policy\\\\DefaultPolicy'\n    ]\n]);\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","InlineAlert","name","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}