{"version":3,"file":"component---src-pages-development-components-adapters-md-f8732802bb0bef7c5691.js","mappings":"oRAQaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,gBAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAHgC,WACjCC,GAEC,EADEC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,YACH,aACL,kBAAK,+BAA6B,cAAGC,WAAW,IAC5C,KAAQ,iDACL,mBAAuB,sPAE9B,eACE,GAAM,eACH,gBACL,kBAAK,oMAEL,kBAAK,2CAAyC,cAAGA,WAAW,IACxD,KAAQ,2BACL,wBAA4B,yEACnC,eACE,GAAM,gBACH,iBACL,kBAAK,+EAA6E,uBAAYA,WAAW,KAAM,oBAAiC,yHAC7F,uBAAYA,WAAW,KAAM,WAAwB,yHAExG,kBAAK,6KACL,eACE,GAAM,SACH,UACL,eACE,GAAM,iCACL,uBAAYA,WAAW,MAAO,qCACjC,kBAAK,QAAM,cAAGA,WAAW,IACrB,KAAQ,6FACL,YAAgB,mCAAiC,uBAAYA,WAAW,KAAM,0BAAuC,6EAC5H,kBAAK,QAAM,cAAGA,WAAW,IACrB,KAAQ,mHACP,uBAAYA,WAAW,KAAM,qBAAqC,+BAA6B,uBAAYA,WAAW,KAAM,oBAAiC,uBAAqB,cAAGA,WAAW,IACjM,KAAQ,qHACP,uBAAYA,WAAW,KAAM,WAA2B,SAAO,cAAGA,WAAW,IAC9E,KAAQ,qHACP,uBAAYA,WAAW,KAAM,YAA4B,kCAC9D,kBAAK,QAAM,cAAGA,WAAW,IACrB,KAAQ,sCACL,WAAe,yBAAuB,cAAGA,WAAW,IACvD,KAAQ,8DACL,UAAc,qDAAmD,cAAGA,WAAW,IAClF,KAAQ,+DACP,uBAAYA,WAAW,KAAM,kBAAkC,sEACpE,eACE,GAAM,0BACL,uBAAYA,WAAW,MAAO,6BACjC,kBAAK,QAAM,cAAGA,WAAW,IACrB,KAAQ,sFACP,uBAAYA,WAAW,KAAM,4BAA4C,+HAC9E,kBAAK,QAAM,cAAGA,WAAW,IACrB,KAAQ,mHACP,uBAAYA,WAAW,KAAM,qBAAqC,wDAAsD,cAAGA,WAAW,IACvI,KAAQ,sGACP,uBAAYA,WAAW,KAAM,QAAwB,SAAO,cAAGA,WAAW,IAC3E,KAAQ,8GACP,uBAAYA,WAAW,KAAM,gBAAgC,2FAClE,eACE,GAAM,YACH,aACL,kBAAK,+EACL,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,8TAgBP,kBAAK,qDAAmD,uBAAYA,WAAW,KAAM,oBAAiC,mBAAiB,cAAGA,WAAW,IACjJ,KAAQ,2CACL,gBAAoB,4CAC3B,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,0eAsBP,kBAAK,mLACL,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,6KAEP,kBAAK,+DAA6D,uBAAYA,WAAW,KAAM,oBAAiC,mBAAiB,cAAGA,WAAW,IAC3J,KAAQ,sCACL,WAAe,0HACuD,uBAAYA,WAAW,KAAM,WAAwB,wCAClI,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,4qBAkCP,kBAAK,6DAA2D,uBAAYA,WAAW,KAAM,UAAuB,kGAEpH,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,kYAaV,CAEDJ,EAAWK,gBAAiB,C","sources":["webpack://commerce-php/./src/pages/development/components/adapters.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"adapters\"\n    }}>{`Adapters`}</h1>\n    <p>{`Adapter classes follow the `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Adapter_pattern\"\n      }}>{`adapter pattern`}</a>{` and wrap around classes from third-party libraries.\nThese classes allow you to use functionality from third-party libraries in your code by converting the third-party class interfaces into an interface that is expected by your native code.`}</p>\n    <h2 {...{\n      \"id\": \"when-to-use\"\n    }}>{`When to use`}</h2>\n    <p>{`You should always use adapter classes instead of directly using classes from third-party libraries.\nThis reduces the change impact on your code when the API changes in a third-party library.`}</p>\n    <p>{`We recommend using adapter classes for `}<a parentName=\"p\" {...{\n        \"href\": \"dependency-injection.md\"\n      }}>{`dependency injection`}</a>{` to get access to the functionality provided by third-party classes.`}</p>\n    <h2 {...{\n      \"id\": \"how-to-write\"\n    }}>{`How to write`}</h2>\n    <p>{`A common approach in developing an adapter is to create an interface named `}<inlineCode parentName=\"p\">{`AdapterInterface`}</inlineCode>{` to describe the functionality the third-party class provides.\nThis class is typically found in a directory labeled `}<inlineCode parentName=\"p\">{`Adapter`}</inlineCode>{`.\nClasses implementing this adapter interface use the third-party class directly to provide indirect functionality.`}</p>\n    <p>{`This approach allows you to update or substitute different implementations provided by other third-party classes without the need to update code that uses your adapter.`}</p>\n    <h2 {...{\n      \"id\": \"types\"\n    }}>{`Types`}</h2>\n    <h3 {...{\n      \"id\": \"magentoframeworkcodeminifier\"\n    }}><inlineCode parentName=\"h3\">{`Magento/Framework/Code/Minifier`}</inlineCode></h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Code/Minifier\"\n      }}>{`minifier`}</a>{` functionality provided by the `}<inlineCode parentName=\"p\">{`Magento/Framework/Code`}</inlineCode>{` library involves the use of third-party libraries for code compression.`}</p>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Code/Minifier/AdapterInterface.php\"\n      }}><inlineCode parentName=\"a\">{`AdapterInterface`}</inlineCode></a>{` for this class contains a `}<inlineCode parentName=\"p\">{`minify($content)`}</inlineCode>{` function that the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Code/Minifier/Adapter/Css/CSSmin.php\"\n      }}><inlineCode parentName=\"a\">{`CSSmin`}</inlineCode></a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Code/Minifier/Adapter/Js/JShrink.php\"\n      }}><inlineCode parentName=\"a\">{`JShrink`}</inlineCode></a>{` implementation class define.`}</p>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/tedious/JShrink\"\n      }}>{`jshrink`}</a>{`(tedivm/jshrink) and `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/tubalmartin/YUI-CSS-compressor-PHP-port\"\n      }}>{`cssmin`}</a>{`(tubalmartin/cssmin) libraries registered in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/composer.json\"\n      }}><inlineCode parentName=\"a\">{`composer.json`}</inlineCode></a>{` file provide the functionalities for the implementation classes.`}</p>\n    <h3 {...{\n      \"id\": \"magentoframeworkimage\"\n    }}><inlineCode parentName=\"h3\">{`Magento/Framework/Image`}</inlineCode></h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Image\"\n      }}><inlineCode parentName=\"a\">{`Magento/Framework/Image`}</inlineCode></a>{` library uses adapters to access functionality provided by GD(php-gd2) and ImageMagick(php-imagick) third-party libraries.`}</p>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Image/Adapter/AdapterInterface.php\"\n      }}><inlineCode parentName=\"a\">{`AdapterInterface`}</inlineCode></a>{` class defines the available functionality, and the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Image/Adapter/Gd2.php\"\n      }}><inlineCode parentName=\"a\">{`Gd2`}</inlineCode></a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Image/Adapter/ImageMagick.php\"\n      }}><inlineCode parentName=\"a\">{`ImageMagick`}</inlineCode></a>{` adapter classes provides the concrete implementation using the third-party libraries.`}</p>\n    <h2 {...{\n      \"id\": \"examples\"\n    }}>{`Examples`}</h2>\n    <p>{`The code below describes an interface for an adapter that parses markdown.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`/**\n * Interface for markdown library adapters\n */\nnamespace MyCompany\\\\MyModule\\\\Markdown\\\\Parser\\\\Adapter;\n\ninterface AdapterInterface\n{\n    /**\n     * Converts markdown text into another format\n     *\n     * @param string $text\n     * @return string\n     */\n    public function parse($text);\n}\n`}</code></pre>\n    <p>{`The code below is an implementation class of the `}<inlineCode parentName=\"p\">{`AdapterInterface`}</inlineCode>{` that uses the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/michelf/php-markdown\"\n      }}>{`php-markdown`}</a>{` library to convert markdown into HTML.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`namespace MyCompany\\\\MyModule\\\\Markdown\\\\Parser\\\\Adapter\\\\PhpMarkdown;\n\nuse \\\\Michelf\\\\Markdown;\nuse MyCompany\\\\MyModule\\\\Markdown\\\\Parser\\\\Adapter\\\\AdapterInterface;\n\n/**\n * Adapter for php-markdown library\n */\nclass PhpMarkdown implements AdapterInterface\n{\n    /**\n     * Convert markdown into HTML\n     *\n     * @param string $text\n     * @return string\n     */\n    public function parse($text)\n    {\n        return Markdown::defaultTransform($text);\n    }\n}\n`}</code></pre>\n    <p>{`To configure the ObjectManager to use the PhpMarkdown implementation when the AdapterInterface class is requested as a dependency, add the following code in your di.xml file.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`<preference for=\"MyCompany\\\\MyModule\\\\Markdown\\\\Parser\\\\Adapter\\\\AdapterInterface\" type=\"MyCompany\\\\MyModule\\\\Markdown\\\\Parser\\\\Adapter\\\\PhpMarkdown\\\\PhpMarkdown\" />\n`}</code></pre>\n    <p>{`The code below is an alternate implementation class of the `}<inlineCode parentName=\"p\">{`AdapterInterface`}</inlineCode>{` that uses the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/kzykhys/Ciconia\"\n      }}>{`Ciconia`}</a>{` library to parse markdown into HTML.\nThis code differs from the previous implementations in that an instance of the `}<inlineCode parentName=\"p\">{`Ciconia`}</inlineCode>{` class is a constructor dependency.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`namespace MyCompany\\\\MyModule\\\\Markdown\\\\Parser\\\\Adapter\\\\Ciconia;\nuse Ciconia\\\\Ciconia;\nuse MyCompany\\\\MyModule\\\\Markdown\\\\Parser\\\\Adapter\\\\AdapterInterface;\n\n/**\n * Adapter for the Ciconia library\n */\nclass CiconiaParser implements AdapterInterface\n{\n    /**\n     * @var Ciconia\n     */\n     protected $parser;\n\n    /**\n     * @param Ciconia\n     */\n    public function __construct(Ciconia $parser)\n    {\n        $this->parser = $parser;\n    }\n\n    /**\n     * Convert markdown into HTML\n     *\n     * @param string $text\n     * @return string\n     */\n    public function parse($text)\n    {\n        return $this->parser->render($text);\n    }\n}\n`}</code></pre>\n    <p>{`The following dependency injection entries belong in the `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` file.\nThey describe to the ObjectManager how to create the third-party and adapter classes.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<virtualType name=\"defaultCiconia\" type=\"Ciconia\\\\Ciconia\" shared=\"false\">\n   <arguments>\n       <argument name=\"renderer\" xsi:type=\"null\"/>\n   </arguments>\n</virtualType>\n<type name=\"MyCompany\\\\MyModule\\\\Markdown\\\\Parser\\\\Adapter\\\\Ciconia\\\\CiconiaParser\">\n   <arguments>\n       <argument name=\"parser\" xsi:type=\"object\">defaultCiconia</argument>\n   </arguments>\n</type>\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}