{"version":3,"file":"component---src-pages-development-payments-integrations-base-integration-payment-action-md-789594c86229cf4a7565.js","mappings":"+RASaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,gBAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAHgC,WACjCC,GAEC,EADEC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAI5E,SAAC,IAAD,CAAMA,QAAQ,UACd,eACE,GAAM,wBACH,yBACL,kBAAK,gGACL,oBACE,eAAIC,WAAW,OACb,cAAGA,WAAW,MAAO,0DAAwD,cAAGA,WAAW,IACvF,KAAQ,uBACL,oDAAwD,OAEjE,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,6BAA2B,cAAGA,WAAW,IAC1D,KAAQ,0CACL,oBAAwB,SAAO,cAAGA,WAAW,IAChD,KAAQ,4CACL,sBAA0B,OAEnC,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,gEAA8D,cAAGA,WAAW,IAC7F,KAAQ,iEACL,mBAAuB,aAEhC,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,0DAAwD,cAAGA,WAAW,IACvF,KAAQ,2FACL,gBAAoB,QAG/B,eACE,GAAM,yBACH,0BACL,kBAAK,yEAAuE,uBAAYA,WAAW,KAAM,UAAuB,+DAA6D,uBAAYA,WAAW,KAAM,kCAC1N,kBAAK,0CAAwC,cAAGA,WAAW,IACvD,KAAQ,yCACL,mBAAuB,MAC9B,eACE,GAAM,kDACH,aAAW,uBAAYA,WAAW,MAAO,aAA0B,kCACxE,kBAAK,mEAAiE,uBAAYA,WAAW,KAAM,yCAAsD,OACzJ,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,sgCAkBP,kBAAK,6CAA2C,uBAAYA,WAAW,KAAM,6BAA0C,qBAAmB,uBAAYA,WAAW,KAAM,kBAA+B,0CAC/K,uBAAYA,WAAW,KAAM,kBAA+B,8EACnF,kBAAK,QAAM,uBAAYA,WAAW,KAAM,6BAA0C,8CAA4C,uBAAYA,WAAW,KAAM,yCAAsD,OACjN,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,69CAiBP,kBAAK,+CAA6C,uBAAYA,WAAW,KAAM,4DAAyE,UAAQ,uBAAYA,WAAW,KAAM,WAAwB,iFACrN,kBAAK,mBAAiB,cAAGA,WAAW,IAChC,KAAQ,uBACL,oDAAwD,kEAAgE,cAAGA,WAAW,IACzI,KAAQ,qEACL,2CAA+C,kFAGzD,CAEDJ,EAAWK,gBAAiB,C","sources":["webpack://commerce-php/./src/pages/development/payments-integrations/base-integration/payment-action.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nimport Docs from '/src/_includes/braintree-note.md';\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <Docs mdxType=\"Docs\" />\n    <h1 {...{\n      \"id\": \"add-a-payment-action\"\n    }}>{`Add a payment action`}</h1>\n    <p>{`For each payment action available for the payment method, you must implement the following:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Creating a request with payment details. Described in `}<a parentName=\"p\" {...{\n            \"href\": \"get-payment-info.md\"\n          }}>{`Get payment information from frontend to backend`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Request processing using `}<a parentName=\"p\" {...{\n            \"href\": \"../payment-gateway/response-handler.md\"\n          }}>{`response handler`}</a>{` and `}<a parentName=\"p\" {...{\n            \"href\": \"../payment-gateway/response-validator.md\"\n          }}>{`response validator`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Specify and configure the gateway command. Described in the `}<a parentName=\"p\" {...{\n            \"href\": \"../payment-gateway/gateway-command.md#adding-gateway-commands\"\n          }}>{`Gateway Command`}</a>{` topic.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Add the command to the commands pool, as described in `}<a parentName=\"p\" {...{\n            \"href\": \"../payment-gateway/command-pool.md#command-pool-configuration-for-a-particular-provider\"\n          }}>{`Command Pool`}</a>{`.`}</p>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"configure-the-command\"\n    }}>{`Configure the command`}</h2>\n    <p>{`The gateway command for the payment action must be configured in the `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` file of your module. Conventionally, its location must be `}<inlineCode parentName=\"p\">{`<your_module_dir>/etc/di.xml`}</inlineCode></p>\n    <p>{`Configure the command as described in `}<a parentName=\"p\" {...{\n        \"href\": \"../payment-gateway/gateway-command.md\"\n      }}>{`Gateway Command`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"example-authorize-payment-action-for-braintree\"\n    }}>{`Example: `}<inlineCode parentName=\"h2\">{`authorize`}</inlineCode>{` payment action for Braintree`}</h2>\n    <p>{`Configuring the gateway command and adding it to command pool (`}<inlineCode parentName=\"p\">{`app/code/Magento/Braintree/etc/di.xml`}</inlineCode>{`):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<virtualType name=\"BraintreeCommandPool\" type=\"Magento\\\\Payment\\\\Gateway\\\\Command\\\\CommandPool\">\n    <arguments>\n        <argument name=\"commands\" xsi:type=\"array\">\n            <item name=\"authorize\" xsi:type=\"string\">BraintreeAuthorizeCommand</item>\n        </argument>\n    </arguments>\n</virtualType>\n\n<virtualType name=\"BraintreeAuthorizeCommand\" type=\"Magento\\\\Payment\\\\Gateway\\\\Command\\\\GatewayCommand\">\n    <arguments>\n        <argument name=\"requestBuilder\" xsi:type=\"object\">BraintreeAuthorizeRequest</argument>\n        <argument name=\"transferFactory\" xsi:type=\"object\">Magento\\\\Braintree\\\\Gateway\\\\Http\\\\TransferFactory</argument>\n        <argument name=\"client\" xsi:type=\"object\">Magento\\\\Braintree\\\\Gateway\\\\Http\\\\Client\\\\TransactionSale</argument>\n        <argument name=\"handler\" xsi:type=\"object\">BraintreeAuthorizationHandler</argument>\n        <argument name=\"validator\" xsi:type=\"object\">Magento\\\\Braintree\\\\Gateway\\\\Validator\\\\ResponseValidator</argument>\n    </arguments>\n</virtualType>\n`}</code></pre>\n    <p>{`In the command configuration we see that `}<inlineCode parentName=\"p\">{`BraintreeAuthorizeRequest`}</inlineCode>{` is specified as `}<inlineCode parentName=\"p\">{`requestBuilder`}</inlineCode>{`, that is a\nLet's look closer on the `}<inlineCode parentName=\"p\">{`requestBuilder`}</inlineCode>{` arguments. This argument value is a list of builders, builder composite.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`BraintreeAuthorizeRequest`}</inlineCode>{` builder contains the following builders (`}<inlineCode parentName=\"p\">{`app/code/Magento/Braintree/etc/di.xml`}</inlineCode>{`):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<virtualType name=\"BraintreeAuthorizeRequest\" type=\"Magento\\\\Payment\\\\Gateway\\\\Request\\\\BuilderComposite\">\n        <arguments>\n            <argument name=\"builders\" xsi:type=\"array\">\n                <item name=\"customer\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\CustomerDataBuilder</item>\n                <item name=\"payment\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\PaymentDataBuilder</item>\n                <item name=\"channel\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\ChannelDataBuilder</item>\n                <item name=\"address\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\AddressDataBuilder</item>\n                <item name=\"vault\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\VaultDataBuilder</item>\n                <item name=\"3dsecure\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\ThreeDSecureDataBuilder</item>\n                <item name=\"device_data\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\KountPaymentDataBuilder</item>\n                <item name=\"dynamic_descriptor\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\DescriptorDataBuilder</item>\n                <item name=\"store\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\StoreConfigBuilder</item>\n                <item name=\"merchant_account\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\MerchantAccountDataBuilder</item>\n            </argument>\n        </arguments>\n    </virtualType>\n`}</code></pre>\n    <p>{`The most important builder in this pool is `}<inlineCode parentName=\"p\">{`Magento\\\\Braintree\\\\Gateway\\\\Request\\\\PaymentDataBuilder`}</inlineCode>{`, the `}<inlineCode parentName=\"p\">{`payment`}</inlineCode>{` builder. It is responsible for the payment information part of the request.`}</p>\n    <p>{`Please see the `}<a parentName=\"p\" {...{\n        \"href\": \"get-payment-info.md\"\n      }}>{`Get payment information from frontend to backend`}</a>{` for details about how payment information can be handled and `}<a parentName=\"p\" {...{\n        \"href\": \"../../../tutorials/frontend/custom-checkout/add-payment-method.md\"\n      }}>{`Add a custom payment method to checkout`}</a>{`: for information on how to add a custom payment integration to checkout page.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}